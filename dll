#include<stdio.h>
#include<stdlib.h>

struct node {
    
    int data;
    struct node *next;
    struct node *prev;

} *head, *tail, *newnode;

void userdata()
{
    newnode=(struct node*)malloc(sizeof(struct node));
    printf("Enter the data\n");
    scanf("%d",&newnode->data);
    newnode->next=0;
    newnode->prev=0;
}


void insert_at_beg()
{
    head=0;
   // newnode=(struct node*)malloc(sizeof(struct node));
    userdata();
    if(head==0)
    {
    
    head=newnode;
    tail=newnode;
    }
    else
    {
        
   // head->next->prev=newnode;
    newnode->next=head;
    head->prev=newnode;
  //  head=newnode;
    //tail=newnode;
    head->next->prev=newnode;
    }
    
    
    
}




void insert_at_end()
{
    userdata();
    tail->next=newnode;
    newnode->prev=tail;
    tail=newnode;
    
    
}


void insert_at_pos()
{
     //temp=head;
     struct node *temp;
     temp=head;
     userdata();
  int pos;
  int i=1;
  printf("Enter the position\n");
  scanf("%d",&pos);
  while(i<pos-1)
  {
      temp=temp->next;
      i++;
      
  }
  
  
  newnode->prev=temp;
  newnode->next=temp->next;
  temp->next=newnode;
  newnode->next->prev=newnode;
 // temp->next=newnode;
    
}



void display()
{
    struct node *temp;
    temp=head;
    while(temp!=0)
    {
        printf("%d\n",temp->data);
        temp=temp->next;
        
    }

    
}

void delete_at_beg()
{
    struct node *temp;
    temp=head;
    head=head->next;
    temp->next->prev=0;
    free(temp);
    
    
}

void delete_at_end()
{
   tail->next=newnode;
   newnode->prev=tail;
   tail=newnode;
   
    
    
    
    
}




void delete_at_pos()
{
    int i=1;
    int pos;
    struct node *temp;
    temp=head;
    //userdata();
    printf("Enter the position\n");
    scanf("%d",&pos);
    while(i<pos)
    {
        temp=temp->next;
        i++;
        
    }
    
    temp->next->prev=temp->prev;
    temp->prev->next=temp->next;
    free(temp);
    
    
    
    
    
}








void main()
{
    int rpt=1;
    int i=1;
    int choice;
    while(rpt)
    {
        printf("Enter your choice\n");
        printf("1.Insert_at_beg\n2.Insert_at_end\n3.Insert_at_pos\n4.Delete_at_beg\n5.Delete_at_end\n6.Delete_at_pos\n7.Display\n:");
        scanf("%d",&choice);
        
        switch(choice)
        {
            case 1:insert_at_beg();
            break;
            case 2:insert_at_end();
            break;
            case 3:insert_at_pos();
            break;
            case 4:delete_at_beg();
            break;
            case 5:delete_at_end();
            break;
            case 6:delete_at_pos();
            break;
            case 7:display();
            break;
            
            
            
        }
        
        
        
        
        printf("Do you want to contiue(1,0)\n");
        scanf("%d",&rpt);
        
        
        
    }
    
    
    
    
    
    
    
    
    
    
    
}





























